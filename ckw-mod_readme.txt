ckw-mod変更点

----- 2010/05/17 -----

(craftware)

・AllocConsole 時に SW_HIDE を与えるために、__readfsdword を用いてアドレスを指定する
  ようにしました。(これによって、もう少し整理できるかも)

----- 2010/05/07 -----

(craftware)

・下記のサイトの変更をマージして、コマンドプロンプトが一瞬表示されるのを修正しました。
  http://nocd5.blog59.fc2.com/blog-entry-402.html

----- 2010/05/01 -----

(craftware)

・タイトルバーを右クリックしたときに出てくるメニューに、[Copy All]を追加しました。
  コンソールの中のすべてのテキストをクリップボードに格納します。

----- 2010/04/26 -----

(craftware)

・マウスによるテキスト選択中に、マウスがウインドウの上下外側に行ったときに、
  自動的にスクロールするようにしました。

・VC2008を使うようにしました。ckw.sln と ckw.vcproj を VC2008の形式に変換しました。

----- 2009/11/18 -----

http://twitter.com/you_and_i/status/5812581561 での修正を取り込みました。(bleis-tift)
これで、XP でも Vista でも動くようになったはずです。
また、VC++2005再頒布可能パッケージなしでも動作するようにしました。
id:youandi さん、id:DigitalGhost さん、id:pasela さん、ありがとうございます。

----- 2009/11/17 -----

http://d.hatena.ne.jp/s-yata/20080823/1219474577 での修正を取り込みました。(bleis-tift)
id:hideden さん、 id:s-yata さん、そしてオリジナル作者の Kazuo Ishii さん、ありがとうございます。

----- 2007/11/23 -----

nocd5さんのblogで指摘していただいた
・-cd "%1" でドライブルートを指定すると起動しないバグ
・bbLeanでwindowをshadeすると最小化してしまうバグ

を修正するパッチを当ててコンパイルしたものに差し替えました。ありがとうございます。


----- 2007/11/15 -----

・設定ファイル ckw.txt → ckw.cfg に変更しました。(個人的な好みです。)
・MakefileからCygwin依存のシェルスクリプトを排除し、batのみで実行できるようにして
  VCのみでコンパイルできるようにしました。
・カレントディレクトリを指定する-cd,--chdir を追加しました。
・実行シェルを設定ファイルに記述できるようにしました。
・タイトルを指定するオプション-tl,--titleを追加しました。
・フォントサイズを小さく設定すると、最大化時やWindowリサイズ時に一定以上の大きさにすると
  ウィンドウサイズがおかしくなってしまう不具合を(多分)修正しました。

動作確認は日本語版WindowsXP Pro SP2でのみおこなっております。
また、バイナリはVC8(VS2005)でコンパイルしてあります。


設定ファイル中に

Ckw*chdir: c:\

とかくと、カレントディレクトリを移動してシェルを起動します。また、コマンドラインで指定する場合は

ckw -cd c:\
 または
ckw --chdir c:\

としてください。



設定ファイル中で

Ckw*title: コンソール

とすると、タイトルを変更できます。デフォルトは"ckw"です。
設定ファイルはSJISで保存してください。



Ckw*exec: C:\shell\nyacus.exe

等とすると起動するシェルを設定ファイルで定義できます。-e同様、起動オプションも記述できます。

Ckw*exec: cmd.exe /K DATE



また、元々の仕様として設定ファイルは実行ファイル名の拡張子を.cfgにしたものを見に行きますので、
複数のシェルを使い分ける場合は実行ファイルをckw2.exe等とリネームし、ckw2.cfgに別設定を記述して
ください。


2007/11/15 hideden <mail@hideden.net>
